!function(){var e;window.germanized=window.germanized||{},window.germanized.admin=window.germanized.admin||{},e=jQuery,window.germanized.admin.nutrient_order={params:{},init:function(){var t=germanized.admin.nutrient_order,n=e(".wp-list-table tbody");t.params=wc_gzdp_nutrient_order,n.sortable({items:"> tr:not(.no-items)",cursor:"move",axis:"y",cancel:".inline-edit-row",distance:2,opacity:.9,tolerance:"pointer",scroll:!0,start:function(e,t){"undefined"!=typeof inlineEditTax&&inlineEditTax.revert(),t.placeholder.height(t.item.height()),t.item.parent().parent().addClass("dragging")},helper:function(e,t){return t.children().each((function(){jQuery(this).width(jQuery(this).width())})),t},stop:function(e,t){t.item.children(".row-actions").show(),t.item.parent().parent().removeClass("dragging")},update:function(r,i){n.sortable("disable").addClass("to-updating"),i.item.addClass("to-row-updating");var a=i.item[0].id.substr(4),d=i.item[0].className.match(/level-\d+/)?i.item[0].className.match(/level-\d+/)[0]:"level-0",o=i.item.prevAll("."+d),s=!1;d.match(/\d+$/)[0],o.length>0&&(s=o.attr("id").substr(4));var l=!1,m=i.item.nextAll("."+d);m.length>0&&(l=m.attr("id").substr(4)),e.post(t.params.ajax_url,{action:"reorder_nutrient_terms",security:t.params.reorder_nutrient_nonce,id:a,previd:s,nextid:l},t.onTermOrderUpdate)}})},onTermOrderUpdate:function(t){var n=germanized.admin.nutrient_order,r=e(".wp-list-table tbody");"children"!==t?(e.each(t.new_pos,(function(t,n){if("next"!==t){var r=e("#inline_"+t);if(r.length>0){var i=r.find(".nutrient-order");if(void 0!==n.order){i.length>0&&i.html(n.order);var a=r.find(".parent");a.length>0&&a.html(n.order)}else i.length>0&&i.html(n)}}})),t.next?e.post(n.params.ajax_url,{action:"reorder_nutrient_terms",security:n.params.reorder_nutrient_nonce,id:t.next.id,previd:t.next.previd,nextid:t.next.nextid,start:t.next.start,excluded:t.next.excluded},n.onTermOrderUpdate):(setTimeout((function(){e(".to-row-updating").removeClass("to-row-updating")}),500),r.removeClass("to-updating").sortable("enable"))):window.location.reload()}},e(document).ready((function(){germanized.admin.nutrient_order.init()})),((window.germanizedPro=window.germanizedPro||{}).static=window.germanizedPro.static||{})["admin-nutrient-order"]={}}();