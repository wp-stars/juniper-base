!function(){var e;window.germanized=window.germanized||{},window.germanized.admin=window.germanized.admin||{},e=jQuery,window.germanized.admin.shipment_documents={params:{},init:function(){var i=germanized.admin.shipment_documents;i.params=wc_gzdp_admin_shipment_documents_params,e(document).on("click","#panel-order-shipments .create-packing-slip:not(.disabled)",i.onCreatePackingSlip).on("click","#panel-order-shipments .remove-packing-slip",i.onRemovePackingSlip).on("click","#panel-order-shipments .remove-commercial-invoice",i.onRemoveCommercialInvoice),e(document.body).on("woocommerce_gzd_shipments_needs_saving",i.onShipmentsNeedsSavingChange)},onShipmentsNeedsSavingChange:function(e,i,n){var a=germanized.admin.shipment_documents,m=a.getShipment(n);i?a.disableCreatePackingSlip(m):a.enableCreatePackingSlip(m)},disableCreatePackingSlip:function(i){var n=germanized.admin.shipment_documents,a=i.find(".create-packing-slip");a.addClass("disabled button-disabled"),a.prop("title",n.params.i18n_create_packing_slip_disabled),e(document.body).trigger("init_tooltips")},enableCreatePackingSlip:function(i){var n=germanized.admin.shipment_documents,a=i.find(".create-packing-slip");a.removeClass("disabled button-disabled"),a.prop("title",n.params.i18n_create_packing_slip_enabled),e(document.body).trigger("init_tooltips")},getMainWrapper:function(){return e("#order-shipments")},getPackingSlipWrapper:function(e){return germanized.admin.shipment_documents.getMainWrapper().find('.wc-gzd-shipment-packing-slip[data-packing_slip="'+e+'"]')},getShipmentWrapperByPackingSlip:function(e){var i=germanized.admin.shipment_documents.getPackingSlipWrapper(e);return i.length>0&&i.parents(".order-shipment")},blockPackingSlip:function(e){$wrapper=e.find(".wc-gzd-shipment-packing-slip"),$wrapper.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},removePackingSlip:function(e){var i=germanized.admin.shipment_documents,n=i.getShipmentWrapperByPackingSlip(e),a={action:"woocommerce_gzdp_remove_packing_slip",packing_slip:e,security:i.params.remove_packing_slip_nonce};i.blockPackingSlip(n),germanized.admin.shipments.doAjax(a)},blockCommercialInvoice:function(e){$wrapper=e.find(".wc-gzdp-shipment-commercial-invoice"),$wrapper.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},removeCommercialInvoice:function(e,i){var n=germanized.admin.shipment_documents,a={action:"woocommerce_gzdp_remove_commercial_invoice",commercial_invoice:e,security:n.params.remove_commercial_invoice_nonce};n.blockCommercialInvoice(i),germanized.admin.shipments.doAjax(a)},onRemoveCommercialInvoice:function(){var i=germanized.admin.shipment_documents,n=e(this).data("commercial_invoice"),a=e(this).parents(".order-shipment");return window.confirm(i.params.i18n_remove_commercial_invoice_notice)&&i.removeCommercialInvoice(n,a),!1},onRemovePackingSlip:function(){var i=germanized.admin.shipment_documents,n=e(this).data("packing_slip");return window.confirm(i.params.i18n_remove_packing_slip_notice)&&i.removePackingSlip(n),!1},getShipment:function(i){return e("#panel-order-shipments").find("#shipment-"+i)},onCreatePackingSlip:function(){var i=germanized.admin.shipment_documents,n=e(this).parents(".order-shipment").data("shipment");return i.refreshPackingSlip(n),!1},refreshPackingSlip:function(e){var i=germanized.admin.shipment_documents,n=i.getShipment(e),a={action:"woocommerce_gzdp_refresh_packing_slip",shipment_id:e,security:i.params.refresh_packing_slip_nonce};i.blockPackingSlip(n),germanized.admin.shipments.doAjax(a)}},e(document).ready((function(){germanized.admin.shipment_documents.init()})),((window.germanizedPro=window.germanizedPro||{}).static=window.germanizedPro.static||{})["admin-shipment-documents"]={}}();