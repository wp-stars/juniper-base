"use strict";(self.webpackWcGzdProBlocksJsonp=self.webpackWcGzdProBlocksJsonp||[]).push([[234],{489:function(e,t,n){n.r(t),n.d(t,{Frontend:function(){return M},default:function(){return R}});var s=n(196),a=n(184),l=n.n(a),r=n(322),i=n(736),c=n(307),m=n(818),d=n(801),p=n(617),o=n(604),g=n(123),u=n(613),h=n(109),E=n(32),y=n(214),b=n(984);const S=(0,p.getSetting)("countries",{}),v=(0,p.getSetting)("countryData",{}),A=Object.fromEntries(Object.keys(v).filter((e=>!0===v[e].allowBilling)).map((e=>[e,S[e]||""]))),N=({address:e})=>(0,s.createElement)("address",null,[e.first_name+" "+e.last_name,e.address_1,e.address_2,e.postcode+" "+e.city,e.state,A[e.country]?A[e.country]:e.country].filter((e=>!!e)).map(((e,t)=>(0,s.createElement)("span",{key:"address-"+t},e)))),k=()=>{const{billingAddress:e,needsShipping:t,shippingAddress:n}=(0,m.useSelect)((e=>{const t=e(d.CART_STORE_KEY);return{billingAddress:t.getCartData().billingAddress,shippingAddress:t.getCartData().shippingAddress,needsShipping:t.getNeedsShipping()}}));return(0,s.createElement)("div",{className:"summary-content"},(0,s.createElement)("span",{className:"summary-main-content"},e.email),!t&&(0,s.createElement)("div",{className:"billing-address"},(0,s.createElement)(N,{address:e})),t&&(0,s.createElement)("div",{className:"shipping-address"},(0,s.createElement)(N,{address:n})))},_={bank:h.Z,bill:E.Z,card:y.Z},f=({icon:e,text:t})=>{const n=!!e,a=(0,c.useCallback)((e=>n&&isString(e)&&objectHasProp(_,e)),[n]),r=l()("wc-block-components-payment-method-label",{"wc-block-components-payment-method-label--with-icon":n});return(0,s.createElement)("span",{className:r},a(e)?(0,s.createElement)(b.Z,{icon:_[e]}):e,t)},P=()=>{const{billingAddress:e,currentPaymentMethod:t,useShippingAsBilling:n,needsShipping:a,availablePaymentMethods:l}=(0,m.useSelect)((e=>{const t=e(d.CART_STORE_KEY),n=e(d.PAYMENT_STORE_KEY),s=e(d.CHECKOUT_STORE_KEY);return{billingAddress:t.getCartData().billingAddress,currentPaymentMethod:n.getActivePaymentMethod(),useShippingAsBilling:s.getUseShippingAsBilling(),needsShipping:t.getNeedsShipping(),availableExpressPaymentMethods:n.getAvailableExpressPaymentMethods(),availablePaymentMethods:n.getAvailablePaymentMethods()}})),r=(0,u.getPaymentMethods)();let i="";return Object.keys(l).map((e=>{const{label:n}=r[e];e===t&&(i="string"==typeof n?n:(0,c.cloneElement)(n,{components:{PaymentMethodLabel:f}}))})),(0,s.createElement)("div",{className:"summary-content"},(0,s.createElement)("span",{className:"summary-main-content"},i),!n&&a&&(0,s.createElement)("div",{className:"billing-address"},(0,s.createElement)(N,{address:e})))},C=()=>{const{shippingAddress:e,shippingRates:t}=(0,m.useSelect)((e=>{const t=e(d.CART_STORE_KEY);return{shippingAddress:t.getCartData().shippingAddress,shippingRates:t.getShippingRates()}})),n=(e=>{let t={};return e.map((({package_id:e,shipping_rates:n})=>{const s=n.find((e=>e.selected))||!1;s&&(t=s)})),t})(t);if(!n)return null;const a=(0,p.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(n.price,10)+parseInt(n.taxes,10):parseInt(n.price,10);return(0,s.createElement)("div",{className:"summary-content"},(0,s.createElement)("span",{className:"summary-main-content shipping-method-name"},n.name),"Â ",(0,s.createElement)("span",{className:"shipping-method-price"},(0,s.createElement)(o.Z,{currency:(0,g.e)(n),value:a})))},T=()=>{const{getStepTitle:e,currentStep:t,availableSteps:n,onChangeStep:a}=(0,r.EL)(),c=[];for(let e=0;e<n.length&&t!==n[e];e++)c.push(n[e]);return c.length<=0?null:(0,s.createElement)("div",{className:"wc-gzdp-multilevel-checkout-step-summary"},c.map((t=>(0,s.createElement)("div",{className:l()("summary-block-item",`summary-block-item-${t}`),key:t},(0,s.createElement)("div",{className:"summary-inner-wrapper"},(0,s.createElement)("div",{className:"summary-header"},e(t)),"contact"===t&&(0,s.createElement)(k,null),"shipping"===t&&(0,s.createElement)(C,null),"payment"===t&&(0,s.createElement)(P,null)),(0,s.createElement)("div",{className:"summary-edit"},(0,s.createElement)("a",{href:"#",onClick:()=>a(t)},(0,i._x)("Edit","multilevel-checkout","woocommerce-germanized-pro")))))))},M=({children:e,...t})=>(0,s.createElement)(T,null);var R=M}}]);