var T=(r,e,t)=>new Promise((o,c)=>{var s=b=>{try{l(t.next(b))}catch(y){c(y)}},i=b=>{try{l(t.throw(b))}catch(y){c(y)}},l=b=>b.done?o(b.value):Promise.resolve(b.value).then(s,i);l((t=t.apply(r,e)).next())});import{_ as p}from"./iabtcf.cc626483.min.js";import{B as x,g as M,h as E,i as I,S as R,j as q,k as U}from"./borlabs-cookie-box.cd3478fc.min.js";import{getPurposeState as z}from"./use-iabtcf-purposes.261b12e4.min.js";import{u as P,N as J,s as A}from"./non-iab-tcf-standard-notice.775b4b38.min.js";import{e as k,q as C,o as n,g,l as m,u as a,f as v,t as h,i as D,O as V,c as Y,a as w,v as u,F as B,C as F,s as $,k as N}from"./vue.a50c3feb.min.js";import{getSpecialFeatureState as K}from"./use-special-features.8baed93f.min.js";import{b as G,a as Q,d,s as W,l as O}from"./init.d0a8a83e.min.js";import{aJ as S}from"./observer.472990d3.min.js";import{_ as H}from"./_plugin-vue_export-helper.c27b6911.min.js";const X={key:0,class:"brlbs-inline-block brlbs-align-middle"},Z=k({__name:"purpose-item",props:{purpose:{},description:{type:Boolean,default:!1},checkbox:{type:Boolean,default:!0}},setup(r){const e=r,t=P(),o=z(e.purpose),c="purpose_"+e.purpose.id;return C(()=>T(this,null,function*(){t.vendorCount.value=Object.keys(yield p.vendorListByPurpose(e.purpose.id)).length})),(s,i)=>(n(),g(x,{id:c,modelValue:a(o),"onUpdate:modelValue":i[0]||(i[0]=l=>V(o)?o.value=l:null),description:s.purpose.description,title:s.purpose.name,"show-description":s.description},{afterTitle:m(()=>[a(t)?(n(),v("span",X,"("+h(a(t).vendorCountString.value)+")",1)):D("",!0)]),_:1},8,["modelValue","description","title","show-description"]))}}),ee={key:0},te=k({__name:"stack-item",props:{stack:{},description:{type:Boolean,default:!1},checkbox:{type:Boolean,default:!0}},setup(r){const e=r,t=P(),o=M(e.stack),c="stack_"+e.stack.id;return C(()=>T(this,null,function*(){let s=[];for(const i of e.stack.purposes)s=s.concat(Object.keys(yield p.vendorListByPurpose(i)));for(const i of e.stack.specialFeatures)s=s.concat(Object.keys(yield p.vendorListBySpecialFeature(i)));s=[...new Set(s)],t.vendorCount.value=s.length})),(s,i)=>(n(),g(x,{id:c,modelValue:a(o),"onUpdate:modelValue":i[0]||(i[0]=l=>V(o)?o.value=l:null),description:s.stack.description,title:s.stack.name,"show-description":s.description},{afterTitle:m(()=>[a(t)?(n(),v("span",ee,"("+h(a(t).vendorCountString.value)+")",1)):D("",!0)]),_:1},8,["modelValue","description","title","show-description"]))}}),se={key:0,class:"brlbs-inline-block brlbs-align-middle"},ie=k({__name:"special-feature-item",props:{specialFeature:{},description:{type:Boolean,default:!1},checkbox:{type:Boolean,default:!0}},setup(r){const e=r,t=P(),o=K(e.specialFeature),c="special_feature_"+e.specialFeature.id;return C(()=>T(this,null,function*(){t.vendorCount.value=Object.keys(yield p.vendorListBySpecialFeature(e.specialFeature.id)).length})),(s,i)=>(n(),g(x,{id:c,modelValue:a(o),"onUpdate:modelValue":i[0]||(i[0]=l=>V(o)?o.value=l:null),description:s.specialFeature.description,title:s.specialFeature.name,"show-description":s.description},{afterTitle:m(()=>[a(t)?(n(),v("span",se,"("+h(a(t).vendorCountString.value)+")",1)):D("",!0)]),_:1},8,["modelValue","description","title","show-description"]))}}),j=r=>{var c;let e=0,t=(c=G._serviceGroups[r])==null?void 0:c.serviceIds;t||(e=0),Object.entries(Q._providers).forEach(([s,i])=>{let l=!1;i.serviceIds.forEach(b=>{t.includes(b)&&(l=!0)}),l&&e++});const o=Y(()=>e===1?e+" "+d.providerSingular.value:e+" "+d.providerPlural.value);return{providerCount:e,providerCountString:o}},re={class:"brlbs-space-y-4"},oe={class:"brlbs-flex brlbs-items-center"},ae={key:0,class:"brlbs-inline-block brlbs-align-middle"},we=k({__name:"iabtcf-entrance-list",props:{showDescription:{type:Boolean,default:!1}},setup(r){let e=w([]),t=w(),o=w([]);function c(f){return p.gvl.purposes[f]}function s(f){return p.gvl.stacks[f]}function i(f){return p.gvl.specialFeatures[f]}C(()=>T(this,null,function*(){yield p.gvl.readyPromise,p.prepareVendorIds();const f=yield p.purposeList(p.vendorIds);t.value=yield p.computeStack(f),e.value=yield p.missingPurposes(f,t.value),o.value=yield p.specialFeatureList(p.vendorIds)}));const l=G.serviceGroups,b=d.iabTcfA11yServiceGroupListExplained,y=d.iabTcfA11yPurposeListExplained;return(f,ve)=>(n(),v("form",re,[u(E,{"a11y-list-explained":a(y)},{default:m(()=>[(n(!0),v(B,null,F(a(e),_=>(n(),g(I,{key:_,inline:!1},{default:m(()=>[u(Z,{purpose:c(_),description:f.showDescription},null,8,["purpose","description"])]),_:2},1024))),128)),a(t)?(n(),g(I,{key:0,inline:!1},{default:m(()=>[u(te,{stack:s(a(t))},null,8,["stack"])]),_:1})):D("",!0),(n(!0),v(B,null,F(a(o),(_,L)=>(n(),g(I,{key:L,inline:!1},{default:m(()=>[u(ie,{"special-feature":i(_),description:f.showDescription},null,8,["special-feature","description"])]),_:2},1024))),128))]),_:1},8,["a11y-list-explained"]),u(E,{"a11y-list-explained":a(b)},{default:m(()=>[(n(!0),v(B,null,F(a(l),(_,L)=>(n(),g(I,{key:L,inline:!1},{default:m(()=>[$("div",oe,[u(R,{"service-group":_,description:!0},{afterTitle:m(()=>[a(j)(_.id)?(n(),v("span",ae,"("+h(a(j)(_.id).providerCountString.value)+")",1)):D("",!0),u(q,{classes:["brlbs-inline-block brlbs-align-middle brlbs-w-3 brlbs-h-3 brlbs-ml-2"]})]),_:2},1032,["service-group"])])]),_:2},1024))),128))]),_:1},8,["a11y-list-explained"]),u(J,{class:"brlbs-flex brlbs-justify-center"})]))}}),ne=k({name:"HtmlActionsParagraph",props:{html:{type:String,required:!0}},setup(){const r=w(null);return C(()=>{r.value.querySelectorAll(`a[${S}]`).forEach(e=>{e.addEventListener("click",()=>{e.getAttribute(S)==="vendors"?A("providers"):e.getAttribute(S)==="leg-int"?A("legitimateInterests"):e.getAttribute(S)==="preferences"&&A("categories"),W("Details")})})}),{paragraphElement:r}}});const le=["innerHTML"];function ce(r,e,t,o,c,s){return n(),v("p",{ref:"paragraphElement",class:"brlbs-cmpnt-action-paragraph",innerHTML:r.html},null,8,le)}const pe=H(ne,[["render",ce],["__scopeId","data-v-80adbcd7"]]),ue=k({name:"IABTCFEntranceDescription",components:{LegalInformationNonEuDataTransfer:U,HtmlActionsParagraph:pe},setup(){return{entranceDescription:d.entranceDescription,iabTcfDescriptionTechnology:O.replaceAll("{{ totalVendors }}",(Object.keys(window.borlabsCookieConfig.providers).length+window.borlabsCookieConfig.tcfVendors.length-1).toString(),d.iabTcfDescriptionTechnology.value),iabTcfDescriptionPersonalData:d.iabTcfDescriptionPersonalData,iabTcfDescriptionLegInt:O.replaceAll("{{ totalVendors }}",(Object.keys(window.borlabsCookieConfig.providers).length+window.borlabsCookieConfig.tcfVendors.length-1).toString(),d.iabTcfDescriptionLegInt.value),iabTcfDescriptionMoreInformation:d.iabTcfDescriptionMoreInformation,iabTcfDescriptionNoCommitment:d.iabTcfDescriptionNoCommitment,iabTcfDescriptionRevoke:d.iabTcfDescriptionRevoke,iabTcfDescriptionIndiviualSettings:d.iabTcfDescriptionIndiviualSettings}}}),de={class:"brlbs-space-y-2",id:"BorlabsCookieEntranceA11YDescription"},be={class:"brlbs-cmpnt-text-description brlbs-block brlbs-text-sm",tabindex:"0"},fe={tabindex:"0",class:"brlbs-text-sm"};function me(r,e,t,o,c,s){const i=N("HtmlActionsParagraph"),l=N("LegalInformationNonEuDataTransfer");return n(),v("div",de,[$("p",be,h(r.entranceDescription),1),u(i,{tabindex:"0",class:"brlbs-text-sm",html:r.iabTcfDescriptionTechnology},null,8,["html"]),u(i,{tabindex:"0",class:"brlbs-text-sm",html:r.iabTcfDescriptionPersonalData},null,8,["html"]),u(i,{tabindex:"0",class:"brlbs-text-sm",html:r.iabTcfDescriptionLegInt},null,8,["html"]),u(i,{tabindex:"0",class:"brlbs-text-sm",html:r.iabTcfDescriptionMoreInformation},null,8,["html"]),u(i,{tabindex:"0",class:"brlbs-text-sm",html:r.iabTcfDescriptionNoCommitment},null,8,["html"]),u(i,{tabindex:"0",class:"brlbs-text-sm",html:r.iabTcfDescriptionRevoke},null,8,["html"]),$("p",fe,h(r.iabTcfDescriptionIndiviualSettings),1),u(l)])}const Le=H(ue,[["render",me]]);export{Le as I,we as _};
