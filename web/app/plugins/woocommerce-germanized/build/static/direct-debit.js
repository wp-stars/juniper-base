jQuery((function(e){var i={$checkoutForm:e("form.checkout, form#order_review"),params:{},init:function(){this.params=direct_debit_params,this.$checkoutForm.on("blur input change","#direct-debit-form input#direct-debit-account-holder",this.onValidateHolder),this.$checkoutForm.on("blur input change","#direct-debit-form input#direct-debit-account-iban",this.onValidateIBAN),this.$checkoutForm.on("blur input change","#direct-debit-form input#direct-debit-account-bic",this.onValidateSWIFT),this.$checkoutForm.on("blur input change","input, select",this.maybeShowCheckbox),e(document.body).on("updated_checkout",this.maybeShowCheckbox),e(document).on("click","a#show-direct-debit-trigger",this.onPrettyPhotoOpen),this.initPrettyPhoto()},onValidateIBAN:function(){var t=i,o=e(this).parents("p.form-row");t.isValidIBAN(e(this).val())?(o.addClass("woocommerce-validated"),o.removeClass("woocommerce-invalid woocommerce-invalid-required-field")):(o.removeClass("woocommerce-validated"),o.addClass("woocommerce-invalid woocommerce-invalid-required-field"))},onValidateSWIFT:function(){var t=i,o=e(this).parents("p.form-row");t.isValidSWIFT(e(this).val())?(o.addClass("woocommerce-validated"),o.removeClass("woocommerce-invalid woocommerce-invalid-required-field")):(o.removeClass("woocommerce-validated"),o.addClass("woocommerce-invalid woocommerce-invalid-required-field"))},onValidateHolder:function(){var i=e(this).parents("p.form-row");e(this).val()?(i.addClass("woocommerce-validated"),i.removeClass("woocommerce-invalid woocommerce-invalid-required-field")):(i.removeClass("woocommerce-validated"),i.addClass("woocommerce-invalid woocommerce-invalid-required-field"))},isValidIBAN:function(e){return window.hasOwnProperty("IBAN")?window.IBAN.isValid(e):window.germanized.static.iban.isValid(e)},isValidSWIFT:function(e){return/^([a-zA-Z]){4}([a-zA-Z]){2}([0-9a-zA-Z]){2}([0-9a-zA-Z]{3})?$/.test(e)},maybeShowCheckbox:function(){var t=i;e(".direct-debit-checkbox").hide(),e("#direct-debit-form").length&&e("#payment_method_direct-debit").is(":checked")&&e("input#direct-debit-account-holder").val()&&e("input#direct-debit-account-iban").val()&&e("input#direct-debit-account-bic").val()&&(e(".direct-debit-checkbox").show(),t.initPrettyPhoto())},onPrettyPhotoOpen:function(t){var o=i;t.preventDefault();var a=e(this).attr("href"),r={};e.each(o.params.mandate_fields,(function(i,t){e("input"+t+", select"+t).length>0?r[i]=e("input"+t+", select"+t).val():r[i]=""})),a+="&ajax=true&"+jQuery.param(r),e("#show-direct-debit-pretty").attr("href",a),e("#show-direct-debit-pretty").trigger("click")},initPrettyPhoto:function(){e("a#show-direct-debit-pretty").prettyPhoto({social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1})}};i.init()})),((window.germanized=window.germanized||{}).static=window.germanized.static||{})["direct-debit"]={};