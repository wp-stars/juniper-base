/******/ (() => { // webpackBootstrap
var __webpack_exports__ = {};
/*!******************************************!*\
  !*** ./resources/js/gatewaySurcharge.js ***!
  \******************************************/
(function (_ref) {
  var jQuery = _ref.jQuery,
    surchargeData = _ref.surchargeData;
  jQuery(function ($) {
    $('body').on('change', 'input[name="payment_method"]', function () {
      $('body').trigger('update_checkout');
    });
  });
  if (!surchargeData) {
    return;
  }
  var isOrderPay = document.body.classList.contains('woocommerce-order-pay');
  if (isOrderPay) {
    jQuery(function ($) {
      var orderId = false;
      var hiddenField = $('input:hidden[name="mollie-woocommerce-orderId"]');
      if (hiddenField.length) {
        orderId = hiddenField.val();
      }
      var gatewayLabel = surchargeData.gatewayFeeLabel;
      var updateSurcharge = function updateSurcharge() {
        jQuery.ajax({
          url: surchargeData.ajaxUrl,
          method: 'POST',
          data: {
            action: 'update_surcharge_order_pay',
            method: $('input:radio[name="payment_method"]:checked').val(),
            orderId: orderId
          },
          success: function success(response) {
            var result = response.data;
            if (result) {
              var productTotal = "</th><td class='product-total'><span class='woocommerce-Price-amount amount'><bdi><span class='woocommerce-Price-currencySymbol'>" + result.currency + "</span>" + result.newTotal + "</bdi></span></td>";
              if (!result.amount) {
                if ($('#order_review table:first-child tfoot tr').text().indexOf(gatewayLabel) !== -1) {
                  $('#order_review table:first-child tfoot tr:contains("' + gatewayLabel + '")').remove();
                  $('#order_review table:first-child tfoot tr:last td').replaceWith(productTotal);
                }
              } else {
                var tableRow = "<tr><th scope='row' colspan='2'>" + result.name + "</th><td class='product-total'><span class='woocommerce-Price-amount amount'><bdi><span class='woocommerce-Price-currencySymbol'>" + result.currency + "</span>" + result.amount.toFixed(2) + "</bdi></span></td></tr>";
                if ($('#order_review table:first-child tfoot tr').text().indexOf(gatewayLabel) !== -1) {
                  $('#order_review table:first-child tfoot tr:contains("' + gatewayLabel + '")').replaceWith(tableRow);
                  $('#order_review table:first-child tfoot tr:last td').replaceWith(productTotal);
                } else {
                  $('#order_review table:first-child tfoot tr:first').after(tableRow);
                  $('#order_review table:first-child tfoot tr:last td').replaceWith(productTotal);
                }
              }
            }
          },
          error: function error(jqXHR, textStatus, errorThrown) {
            console.warn(textStatus, errorThrown);
          }
        });
      };
      updateSurcharge();
      $('body').on('change', 'input[name="payment_method"]', function () {
        updateSurcharge();
      });
    });
  }
})(window);
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QztrQkFDckdoQyxDQUFDLENBQUMsa0RBQWtELENBQUMsQ0FBQytCLFdBQVcsQ0FBQ1AsWUFBWSxDQUFDO2dCQUNuRixDQUFDLE1BQUk7a0JBQ0R4QixDQUFDLENBQUMsZ0RBQWdELENBQUMsQ0FBQ21DLEtBQUssQ0FBQ0gsUUFBUSxDQUFDO2tCQUNuRWhDLENBQUMsQ0FBQyxrREFBa0QsQ0FBQyxDQUFDK0IsV0FBVyxDQUFDUCxZQUFZLENBQUM7Z0JBQ25GO2NBQ0o7WUFDSjtVQUNKLENBQUM7VUFDRFksS0FBSyxFQUFFLFNBQUFBLE1BQUNDLEtBQUssRUFBRUMsVUFBVSxFQUFFQyxXQUFXLEVBQUs7WUFDdkNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDSCxVQUFVLEVBQUVDLFdBQVcsQ0FBQztVQUN6QztRQUNKLENBQUMsQ0FBQztNQUNOLENBQUM7TUFDRHpCLGVBQWUsQ0FBQyxDQUFDO01BQ2pCZCxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUNDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsOEJBQThCLEVBQUUsWUFBVztRQUM5RGEsZUFBZSxDQUFDLENBQUM7TUFDckIsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDO0VBQ047QUFDSixDQUFDLEVBR0Q0QixNQUNKLENBQUMsQyIsInNvdXJjZXMiOlsid2VicGFjazovL21vbGxpZS1wYXltZW50cy1mb3Itd29vY29tbWVyY2UvLi9yZXNvdXJjZXMvanMvZ2F0ZXdheVN1cmNoYXJnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIoXG4gICAgZnVuY3Rpb24gKHtqUXVlcnksIHN1cmNoYXJnZURhdGF9KSB7XG4gICAgICAgIGpRdWVyeSggZnVuY3Rpb24oICQgKSB7XG4gICAgICAgICAgICAkKCdib2R5Jykub24oJ2NoYW5nZScsICdpbnB1dFtuYW1lPVwicGF5bWVudF9tZXRob2RcIl0nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCdib2R5JykudHJpZ2dlcigndXBkYXRlX2NoZWNrb3V0Jyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmKCFzdXJjaGFyZ2VEYXRhKXtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaXNPcmRlclBheSA9IGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCd3b29jb21tZXJjZS1vcmRlci1wYXknKVxuXG4gICAgICAgIGlmKGlzT3JkZXJQYXkpe1xuICAgICAgICAgICAgalF1ZXJ5KCBmdW5jdGlvbiggJCApIHtcbiAgICAgICAgICAgICAgICBsZXQgb3JkZXJJZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxldCBoaWRkZW5GaWVsZCA9ICQoJ2lucHV0OmhpZGRlbltuYW1lPVwibW9sbGllLXdvb2NvbW1lcmNlLW9yZGVySWRcIl0nKVxuICAgICAgICAgICAgICAgIGlmKGhpZGRlbkZpZWxkLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVySWQgPSBoaWRkZW5GaWVsZC52YWwoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBnYXRld2F5TGFiZWwgPSBzdXJjaGFyZ2VEYXRhLmdhdGV3YXlGZWVMYWJlbFxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVN1cmNoYXJnZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzdXJjaGFyZ2VEYXRhLmFqYXhVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICd1cGRhdGVfc3VyY2hhcmdlX29yZGVyX3BheScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAkKCdpbnB1dDpyYWRpb1tuYW1lPVwicGF5bWVudF9tZXRob2RcIl06Y2hlY2tlZCcpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVySWQ6IG9yZGVySWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVzcG9uc2UuZGF0YVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdFRvdGFsID0gXCI8L3RoPjx0ZCBjbGFzcz0ncHJvZHVjdC10b3RhbCc+PHNwYW4gY2xhc3M9J3dvb2NvbW1lcmNlLVByaWNlLWFtb3VudCBhbW91bnQnPjxiZGk+PHNwYW4gY2xhc3M9J3dvb2NvbW1lcmNlLVByaWNlLWN1cnJlbmN5U3ltYm9sJz5cIisgcmVzdWx0LmN1cnJlbmN5ICtcIjwvc3Bhbj5cIisgcmVzdWx0Lm5ld1RvdGFsICtcIjwvYmRpPjwvc3Bhbj48L3RkPlwiXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXJlc3VsdC5hbW91bnQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJCgnI29yZGVyX3JldmlldyB0YWJsZTpmaXJzdC1jaGlsZCB0Zm9vdCB0cicpLnRleHQoKS5pbmRleE9mKGdhdGV3YXlMYWJlbCkgIT09IC0xKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjb3JkZXJfcmV2aWV3IHRhYmxlOmZpcnN0LWNoaWxkIHRmb290IHRyOmNvbnRhaW5zKFwiJyArICBnYXRld2F5TGFiZWwgKyAnXCIpJykucmVtb3ZlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjb3JkZXJfcmV2aWV3IHRhYmxlOmZpcnN0LWNoaWxkIHRmb290IHRyOmxhc3QgdGQnKS5yZXBsYWNlV2l0aChwcm9kdWN0VG90YWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFibGVSb3cgPSBcIjx0cj48dGggc2NvcGU9J3JvdycgY29sc3Bhbj0nMic+XCIrIHJlc3VsdC5uYW1lICsgXCI8L3RoPjx0ZCBjbGFzcz0ncHJvZHVjdC10b3RhbCc+PHNwYW4gY2xhc3M9J3dvb2NvbW1lcmNlLVByaWNlLWFtb3VudCBhbW91bnQnPjxiZGk+PHNwYW4gY2xhc3M9J3dvb2NvbW1lcmNlLVByaWNlLWN1cnJlbmN5U3ltYm9sJz5cIisgcmVzdWx0LmN1cnJlbmN5ICtcIjwvc3Bhbj5cIisgKHJlc3VsdC5hbW91bnQpLnRvRml4ZWQoMikgK1wiPC9iZGk+PC9zcGFuPjwvdGQ+PC90cj5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJCgnI29yZGVyX3JldmlldyB0YWJsZTpmaXJzdC1jaGlsZCB0Zm9vdCB0cicpLnRleHQoKS5pbmRleE9mKGdhdGV3YXlMYWJlbCkgIT09IC0xKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjb3JkZXJfcmV2aWV3IHRhYmxlOmZpcnN0LWNoaWxkIHRmb290IHRyOmNvbnRhaW5zKFwiJyArICBnYXRld2F5TGFiZWwgKyAnXCIpJykucmVwbGFjZVdpdGgodGFibGVSb3cpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI29yZGVyX3JldmlldyB0YWJsZTpmaXJzdC1jaGlsZCB0Zm9vdCB0cjpsYXN0IHRkJykucmVwbGFjZVdpdGgocHJvZHVjdFRvdGFsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI29yZGVyX3JldmlldyB0YWJsZTpmaXJzdC1jaGlsZCB0Zm9vdCB0cjpmaXJzdCcpLmFmdGVyKHRhYmxlUm93KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNvcmRlcl9yZXZpZXcgdGFibGU6Zmlyc3QtY2hpbGQgdGZvb3QgdHI6bGFzdCB0ZCcpLnJlcGxhY2VXaXRoKHByb2R1Y3RUb3RhbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybih0ZXh0U3RhdHVzLCBlcnJvclRocm93bilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVwZGF0ZVN1cmNoYXJnZSgpXG4gICAgICAgICAgICAgICAgJCgnYm9keScpLm9uKCdjaGFuZ2UnLCAnaW5wdXRbbmFtZT1cInBheW1lbnRfbWV0aG9kXCJdJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN1cmNoYXJnZSgpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbilcbihcbiAgICB3aW5kb3dcbilcblxuXG5cbiJdLCJuYW1lcyI6WyJfcmVmIiwialF1ZXJ5Iiwic3VyY2hhcmdlRGF0YSIsIiQiLCJvbiIsInRyaWdnZXIiLCJpc09yZGVyUGF5IiwiZG9jdW1lbnQiLCJib2R5IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJvcmRlcklkIiwiaGlkZGVuRmllbGQiLCJsZW5ndGgiLCJ2YWwiLCJnYXRld2F5TGFiZWwiLCJnYXRld2F5RmVlTGFiZWwiLCJ1cGRhdGVTdXJjaGFyZ2UiLCJhamF4IiwidXJsIiwiYWpheFVybCIsIm1ldGhvZCIsImRhdGEiLCJhY3Rpb24iLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJyZXN1bHQiLCJwcm9kdWN0VG90YWwiLCJjdXJyZW5jeSIsIm5ld1RvdGFsIiwiYW1vdW50IiwidGV4dCIsImluZGV4T2YiLCJyZW1vdmUiLCJyZXBsYWNlV2l0aCIsInRhYmxlUm93IiwibmFtZSIsInRvRml4ZWQiLCJhZnRlciIsImVycm9yIiwianFYSFIiLCJ0ZXh0U3RhdHVzIiwiZXJyb3JUaHJvd24iLCJjb25zb2xlIiwid2FybiIsIndpbmRvdyJdLCJzb3VyY2VSb290IjoiIn0=